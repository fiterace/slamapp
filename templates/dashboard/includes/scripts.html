{% load static %}
<script src="{% static 'dashboard/js/core/jquery.min.js' %}"></script>
<script src="{% static 'dashboard/js/core/popper.min.js' %}"></script>
<script src="{% static 'dashboard/js/core/bootstrap.min.js' %}"></script>
<script src="{% static 'dashboard/js/plugins/perfect-scrollbar.jquery.min.js' %}"></script>
<!--  Google Maps Plugin    -->
<!-- <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script> -->
<!-- Chart JS -->
<!-- <script src="{% static 'dashboard/js/plugins/chartjs.min.js"></script> -->
<!--  Notifications Plugin    -->
<script src="{% static 'dashboard/js/plugins/bootstrap-notify.js' %}"></script>
<!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
<script src="{% static 'dashboard/js/paper-dashboard.min.js' %}" type="text/javascript"></script><!-- Paper Dashboard DEMO methods, don't include it in your project! -->
<script src="{% static 'dashboard/demo/demo.js' %}"></script>
<script src='https://kit.fontawesome.com/a076d05399.js'></script>
<!-- Sidebar JS-->
<script src="{% static 'dashboard/js/sidebar.js' %}"></script>

<script>
  function auto_grow(element) {
    element.style.height = "330px";
    element.style.height = (element.scrollHeight)+"px";
    element.parentElement.style.height = (element.scrollHeight+30)+"px";
    (element.parentElement).parentElement.style.height = (element.scrollHeight+60)+"px";
}
</script>

{% if is_senior %}
<script type="text/javascript">
let pages = [
{id: 1, text: "<h3>Lust Stories</h3> <p>Lets's start with a story!<br><br>Banda <i>Shakal</i> has been dating bandi <i>Vajainti</i> for the last four years and third wheel <i>Shonty</i> has always prayed to separate the love birds. \
<i>Shonty</i> often romanticizes about <i>Vajainti</i> and goes to a <i>lapdancer</i>, <i>Chandramukhi</i> to quench his thirst of romance and love. \
<i>Chandramukhi</i> tries to help <i>Shonty</i> move on with his moves but fails every single time. Guess moving on isn\'t easy. \
<i>Shonty</i> now decides to learn guitar to impress <i>Vajainti</i>, so he visits <i>Anu Malik</i>, a man born with a guitar in his hand, to learn to play the guitar; \
but this reminds him of <i>Vajainti</i>'s love for shayaris. <i>Shonty</i> now moves to a <i>Sharma ji</i>, \
the diljala shayar to learn shayaris but poor <i>Shonty</i> fails miserably and decides to settle for his <i>lapdancer</i>, \
<i>Chandramukhi</i>. Meanwhile, <i>Shakal</i> finds out <i>Vajainti</i> is cheating on him with two guys. \
<i>Shakal</i> files a case against <i>Vajainti</i> and appoints the best advocate in the city <i>Asharam</i>, a man of impeccable logic and evidences. \
<i>Asharam</i>, being a man of principles, refuses to take this case up because <i>Asharam</i> knows <i>Shakal</i> is already dating the famous film director, \
<i>KJo</i>, who is called priya <i>Pappu</i> by <i>Shakal</i>. Meanwhile, <i>Vajainti</i> moves on a double date with her side chicks, <i>Hansmukh</i>, the CEO of company Gau and <i>Appu</i>, \
the CEO of company Mutra; only to realise <i>Appu</i> is already dating the biggest singer of all time and is not of <i>Vajainti</i>'s type. \
So, <i>Vajainti</i> finally settles for <i>Hansmukh</i> and teaches him everything from <i>Sharma ji</i>'s shayaris to rolling plants. \
<i>Hansmukh</i> has now become a pro and decides to break up with <i>Vajainti</i> because he believes <i>Vajainti</i> is not that good in rolling plants anymore. \
<i>Anu Malik</i> has been playing guitar all this time, much like those three men playing violins in titanic. What's a story without some background music? \
Miss <i>Pamela</i> who is reading all this gets irritated by the writer's stupid imagination. She snatches away <i>Appu</i>'s guitar and kills the writer. \
The writer would meet you in heaven. Later! Oh wait, maybe the writer would go to hell for this.</p> ", active: true},
    {id: 2, text: "<h3>The 'Cast' and 'Crew'</h3> <p>Confused?</p><p> You won't be any more when we introduce all the characters.</p><p>Featuring...<br></p> <div class=\"container \" id=\"avatar_container\"> <div class=\"row row-cols-2\"> {% for senior in seniors %} <div class=\"col \"> <img src=\"{{senior.avatar_standing}}\" /><br> <p style=\"text-align: center\"> {{senior.name}} as {{senior.story_name}} </p> <br> </div>{% endfor %} </div></div>", active: false},
    {id: 3, text: "<h3>Dear Batch 2020</h3> <p> When life gives you lemons, throw them back and ask for a college life once again, where you could have earned your farewell without a \"bat\" coming all the way from China \
and hindering your way. 4 years isn't a small time, yet when you look back, tons of things are still left to be completed and cherished. \
As Naina told you years back, \"Life mein jitna bhi try kar lo kuchh Na kuchh to chhutega hi!!!\" \
So here is the team of Litsoc, re-creating memories from jam nights to game nights and \" *_baba ki Bakar\" , \"Param sir\'s wittiness\", \"Shivam sir's literature\", \"Chirag sir's lapdance\", \
\"Siddharth sir ki vocabulary\"_* and other great names with great talents. \
To our Litsoc seniors, I know you have missed a lot. Your dreams of last semester\'s tomfoolery, last college trips with your friends, \
last hug from your college juniors on your last day of college, graduation dinners, GPL of friends, and a lot lot lot more. For four years, \
IIT Mandi proved to be not just your college but your home, juniors were not just students but your siblings, \
alumni were not just seniors but your guardians in times of crisis and colleagues were not just friends but proved to be brothers and sisters. \
Though everything was not as beautiful as I'm writing, I know it was full of ups and downs and at times you fought them all alone despite being surrounded by everyone, \
and yet you pulled out the best out of yourselves and cheerfully succeeded to make it to your final year. \
I know it would be a nightmare for you all to wake up one day just 5 minutes before 9 and instead of rushing to your classes in loose pyjamas and sleepy eyes, \
you all would be rushing to your office with unknotted ties and messed up files in your folder.\
But you know, you would prove to be the best of all batches because you have witnessed the pain of separation, devastation, rejection , denial and distances. \
You are the ones who will have multiple success stories to tell to your next generations because you knew how to make things work despite miles of physical distance from each other and be so close. \
This lockdown taught mankind millions of small things and you are the ones who were hit and got over it.\
</p><br><p >YOU WILL BE MISSED..............</p><br><br> <p style=\"text-align:right; font-weight:bold;\"> <img src=\"https://img.icons8.com/ios/30/000000/hand-with-pen.png\"/> Team Litsoc ‚ù§Ô∏è</p>", active: false},
  ];

  // UI Elements
  const pagesContainer = document.querySelector(".pages"),
        buttonsContainer = document.querySelector(".paginator"),
        numButtonsContainer = document.querySelector(".page-nums");
  
  
  // Clear pages
  function clearPages() {
    while(pagesContainer.firstChild) {
      pagesContainer.firstChild.remove();
    }
  }
  
  // Clear Buttons
  function clearButtons() {
    while(numButtonsContainer.firstChild) {
      numButtonsContainer.firstChild.remove();
    }
  }
  
  // Render buttons
//   function renderButtons(activePage) {
//     clearButtons();
   
//     pages.forEach(function(current) {
//       const button = document.createElement("button");
//       button.className = "page-num";
//       button.type = "button";
//       button.title = current.id;
//       button.textContent = current.id;
     
//       if(current.id === activePage.id) {
//         button.classList.add("active");
//       } else {
//           button.classList.remove("active");
//       }
     
//       numButtonsContainer.appendChild(button);
//     })
//   }
  
  // Main render
  function render() {
    clearPages();
   
    let activePage = pages.find(function(current) {
      return current.active === true;
    })
   
    const div = document.createElement("div");
    div.className = "page";
    div.dataset.id = activePage.id;
    div.innerHTML = activePage.text;
   
    pagesContainer.appendChild(div);
   
    setTimeout(function() {
      div.classList.add("active");
    }, 10);
   
    renderButtons(activePage)
  }
  
  // Event listeners for button clicks
  
  // Buttons with page numbers click event
  numButtonsContainer.addEventListener("click", function(e) {
    if(e.target.classList.contains("page-num")) {
     
      const activePage = pages.find(function(current) {
        return current.active;
      })
     
      if(e.target.title != activePage.id) {
       
        pages.forEach(function(current) {
         current.active = false;
       })
       
        pages[e.target.title - 1].active = true;
        render();
      }
    }
  })
  
  // Arrow buttons click event
  buttonsContainer.addEventListener("click", function(e) {
    let activePage = pages.find(function(current) {
        return current.active === true;
      });
   
    if(e.target.className === "arrow-left") {
     
      if(pages[0].active === true) {
        pages[activePage.id - 1].active = false;
        pages[pages.length - 1].active = true;
        render();
       
      } else {
          pages[activePage.id - 1].active = false;
          pages[(activePage.id - 1) - 1].active = true;
          render();
        }
     
    } else if(e.target.className === "arrow-right") {
        if(pages[pages.length - 1].active === true) {
          pages[activePage.id - 1].active = false;
          pages[0].active = true;
          render();
          
        } else {
            pages[activePage.id - 1].active = false;
            pages[(activePage.id - 1) + 1].active = true;
            render();
          }
     
    } else return;
  })
  
  // Initial render of the app
  render();
  </script>
  {% else %}
  <script>
      /*

Inspired by Florin Pop's coding challenges, you can check them here: https://www.florin-pop.com/blog/2019/03/weekly-coding-challenge/

= Pagination short logic description =
 
  We set collection of our pages as an array of objects.
  Each object is a page with properties:
    * id - used as identifier
    * text - HTML page content
    * active - flag for page that is currently rendered.
 
  Logic is to check which object is flagged active and render that page.
 
  Page gets flagged as active by button click events.
 
  Buttons are rendered according to pages - for every page we create one button with:
    * corresponding number as text
    * corresponding ID as a button title.
 
  Rest are button click events for switching pages.
*/

// Pages and their content
let pages = [
    {id: 1, text: "<h3>Lust Stories</h3> <p>Lets's start with a story!<br><br>Banda <i>Shakal</i> has been dating bandi <i>Vajainti</i> for the last four years and third wheel <i>Shonty</i> has always prayed to separate the love birds. \
<i>Shonty</i> often romanticizes about <i>Vajainti</i> and goes to a <i>lapdancer</i>, <i>Chandramukhi</i> to quench his thirst of romance and love. \
<i>Chandramukhi</i> tries to help <i>Shonty</i> move on with his moves but fails every single time. Guess moving on isn\'t easy. \
<i>Shonty</i> now decides to learn guitar to impress <i>Vajainti</i>, so he visits <i>Anu Malik</i>, a man born with a guitar in his hand, to learn to play the guitar; \
but this reminds him of <i>Vajainti</i>'s love for shayaris. <i>Shonty</i> now moves to a <i>Sharma ji</i>, \
the diljala shayar to learn shayaris but poor <i>Shonty</i> fails miserably and decides to settle for his <i>lapdancer</i>, \
<i>Chandramukhi</i>. Meanwhile, <i>Shakal</i> finds out <i>Vajainti</i> is cheating on him with two guys. \
<i>Shakal</i> files a case against <i>Vajainti</i> and appoints the best advocate in the city <i>Asharam</i>, a man of impeccable logic and evidences. \
<i>Asharam</i>, being a man of principles, refuses to take this case up because <i>Asharam</i> knows <i>Shakal</i> is already dating the famous film director, \
<i>KJo</i>, who is called priya <i>Pappu</i> by <i>Shakal</i>. Meanwhile, <i>Vajainti</i> moves on a double date with her side chicks, <i>Hansmukh</i>, the CEO of company Gau and <i>Appu</i>, \
the CEO of company Mutra; only to realise <i>Appu</i> is already dating the biggest singer of all time and is not of <i>Vajainti</i>'s type. \
So, <i>Vajainti</i> finally settles for <i>Hansmukh</i> and teaches him everything from <i>Sharma ji</i>'s shayaris to rolling plants. \
<i>Hansmukh</i> has now become a pro and decides to break up with <i>Vajainti</i> because he believes <i>Vajainti</i> is not that good in rolling plants anymore. \
<i>Anu Malik</i> has been playing guitar all this time, much like those three men playing violins in titanic. What's a story without some background music? \
Miss <i>Pamela</i> who is reading all this gets irritated by the writer's stupid imagination. She snatches away <i>Appu</i>'s guitar and kills the writer. \
The writer would meet you in heaven. Later! Oh wait, maybe the writer would go to hell for this.</p> ", active: true},
    {id: 2, text: "<h3>The 'Cast' and 'Crew'</h3> <p>Confused?</p><p> You won't be any more when we introduce all the characters.</p><p>Featuring...<br></p> <div class=\"container \" id=\"avatar_container\"> <div class=\"row row-cols-2\"> {% for senior in seniors %} <div class=\"col \"> <img src=\"{{senior.avatar_standing}}\" /><br> <p style=\"text-align: center\"> {{senior.name}} as {{senior.story_name}} </p> <br> </div>{% endfor %} </div></div>", active: false},
    {id: 3, text: "<h3>Dear Fellows</h3> <p>When life gives you lemon, Chuck it to China's face and make out your best efforts to pay a tribute to your seniors with whom you witnessed various tomfoolery of your college life. I know, a little less of the time we got to spend with them and know them as \"virtual life\" kicked in our lives from past some months. Rules were laid to avoid outings and parties, however no rules were ever laid on creativity. So kudos to our team for generating all those great big small ideas and let's close our eyes, sit back and relax and dive in to cherish those lives a little who helped us grow, survive and strive in college. All that you have to do is shake your mind until the best memory peeps out. Write down every memory that you have wished to recreate or cherish with them when in college. Let them know it's not just them , it's hard for us too to leave them . Let us make our small effort to make our position fixed in a corner of their heartüòâ‚ù§Ô∏è</p>", active: false},
  ];
  
  // UI Elements
  const pagesContainer = document.querySelector(".pages"),
        buttonsContainer = document.querySelector(".paginator"),
        numButtonsContainer = document.querySelector(".page-nums");
  
  
  // Clear pages
  function clearPages() {
    while(pagesContainer.firstChild) {
      pagesContainer.firstChild.remove();
    }
  }
  
  // Clear Buttons
  function clearButtons() {
    while(numButtonsContainer.firstChild) {
      numButtonsContainer.firstChild.remove();
    }
  }
  
  // Render buttons
//   function renderButtons(activePage) {
//     clearButtons();
   
//     pages.forEach(function(current) {
//       const button = document.createElement("button");
//       button.className = "page-num";
//       button.type = "button";
//       button.title = current.id;
//       button.textContent = current.id;
     
//       if(current.id === activePage.id) {
//         button.classList.add("active");
//       } else {
//           button.classList.remove("active");
//       }
     
//       numButtonsContainer.appendChild(button);
//     })
//   }
  
  // Main render
  function render() {
    clearPages();
   
    let activePage = pages.find(function(current) {
      return current.active === true;
    })
   
    const div = document.createElement("div");
    div.className = "page";
    div.dataset.id = activePage.id;
    div.innerHTML = activePage.text;
   
    pagesContainer.appendChild(div);
   
    setTimeout(function() {
      div.classList.add("active");
    }, 10);
   
    renderButtons(activePage)
  }
  
  // Event listeners for button clicks
  
  // Buttons with page numbers click event
  numButtonsContainer.addEventListener("click", function(e) {
    if(e.target.classList.contains("page-num")) {
     
      const activePage = pages.find(function(current) {
        return current.active;
      })
     
      if(e.target.title != activePage.id) {
       
        pages.forEach(function(current) {
         current.active = false;
       })
       
        pages[e.target.title - 1].active = true;
        render();
      }
    }
  })
  
  // Arrow buttons click event
  buttonsContainer.addEventListener("click", function(e) {
    let activePage = pages.find(function(current) {
        return current.active === true;
      });
   
    if(e.target.className === "arrow-left") {
     
      if(pages[0].active === true) {
        pages[activePage.id - 1].active = false;
        pages[pages.length - 1].active = true;
        render();
       
      } else {
          pages[activePage.id - 1].active = false;
          pages[(activePage.id - 1) - 1].active = true;
          render();
        }
     
    } else if(e.target.className === "arrow-right") {
        if(pages[pages.length - 1].active === true) {
          pages[activePage.id - 1].active = false;
          pages[0].active = true;
          render();
          
        } else {
            pages[activePage.id - 1].active = false;
            pages[(activePage.id - 1) + 1].active = true;
            render();
          }
     
    } else return;
  })
  
  // Initial render of the app
  render();
  </script>
  {% endif %}
